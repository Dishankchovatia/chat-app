"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[467],{652:(a,e,t)=>{t.r(e),t.d(e,{default:()=>g});var n=t(528),r=t(43),s=t(197),c=t(154),o=t(382);const i=t.p+"static/media/loader.b40fc3d91ff1f4db53e2.gif";var l,d=t(401),u=(t(342),t(216)),m=t(804),p=t(579);function g(){const a="https://api.multiavatar.com/4645646",e=(0,u.Zp)(),[t,n]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[g,f]=(0,r.useState)(void 0),v={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,r.useEffect)((()=>{localStorage.getItem("chat-app-current-user")||e("/login")}),[e]);return(0,r.useEffect)((()=>{(async()=>{const e=[];for(let t=0;t<4;t++){const t=await c.A.get("".concat(a,"/").concat(Math.round(1e3*Math.random()))),n=new o.hp(t.data);e.push(n.toString("base64"))}n(e),l(!1)})()}),[a]),(0,p.jsx)(p.Fragment,{children:s?(0,p.jsx)(h,{children:(0,p.jsx)("img",{src:i,alt:"loader",className:"loader"})}):(0,p.jsxs)(h,{children:[(0,p.jsx)("div",{className:"title-container",children:(0,p.jsx)("h1",{children:"Pick an Avatar as your profile picture"})}),(0,p.jsx)("div",{className:"avatars",children:t.map(((a,e)=>(0,p.jsx)("div",{className:"avatar ".concat(g===e?"selected":""),children:(0,p.jsx)("img",{src:"data:image/svg+xml;base64,".concat(a),alt:"avatar",onClick:()=>f(e)},a)},e)))}),(0,p.jsx)("button",{onClick:async()=>{if(void 0===g)d.oR.error("Please select an avatar",v);else{const a=await JSON.parse(localStorage.getItem("chat-app-current-user")),{data:n}=await c.A.post("".concat(m.ZL,"/").concat(a._id),{image:t[g]});n.isSet?(a.isAvatarImageSet=!0,a.avatarImage=n.image,localStorage.setItem("chat-app-current-user",JSON.stringify(a)),e("/")):d.oR.error("Error setting avatar. Please try again.",v)}},className:"submit-btn",children:"Set as Profile Picture"}),(0,p.jsx)(d.N9,{})]})})}const h=s.Ay.div(l||(l=(0,n.A)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 3rem;\n  background-color: #131324;\n  height: 100vh;\n  width: 100vw;\n\n  .loader {\n    max-inline-size: 100%;\n  }\n\n  .title-container {\n    h1 {\n      color: white;\n    }\n  }\n  .avatars {\n    display: flex;\n    gap: 2rem;\n\n    .avatar {\n      border: 0.4rem solid transparent;\n      padding: 0.4rem;\n      border-radius: 5rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: 0.5s ease-in-out;\n      img {\n        height: 6rem;\n        transition: 0.5s ease-in-out;\n      }\n    }\n    .selected {\n      border: 0.4rem solid #4e0eff;\n    }\n  }\n  .submit-btn {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n"])))},804:(a,e,t)=>{t.d(e,{$G:()=>o,C3:()=>i,Hc:()=>n,M5:()=>d,R6:()=>s,Uq:()=>u,VV:()=>r,ZL:()=>l,tO:()=>c});const n="http://localhost:5000",r="".concat(n,"/api/auth/login"),s="".concat(n,"/api/auth/register"),c=("".concat(n,"/api/auth/logout"),"".concat(n,"/api/auth/allusers")),o="".concat(n,"/api/messages/addmsg"),i="".concat(n,"/api/messages/getmsg"),l="".concat(n,"/api/auth/setavatar"),d="".concat(n,"/api/auth/checkusername"),u="".concat(n,"/api/auth/firebaselogin");"".concat(n,"/api/auth/setusername")}}]);
//# sourceMappingURL=467.6b902064.chunk.js.map