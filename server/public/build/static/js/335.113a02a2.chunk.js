"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[335],{971:(e,n,a)=>{a.r(n),a.d(n,{default:()=>g});var r=a(528),t=a(43),o=a(154),s=a(197),c=a(216),i=a(401),l=(a(342),a(804));const u=(e,n)=>{let a;return function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];clearTimeout(a),a=setTimeout((()=>{e.apply(undefined,t)}),n)}};var d,p=a(21),m=a(855),h=a(579);function g(){const e=(0,c.Zp)(),[n,a]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[d,g]=(0,t.useState)(void 0),[b,x]=(0,t.useState)(void 0);(0,p.hg)(m.e,(n=>{if(n){const e=n.email||n.providerData[0]&&n.providerData[0].email;e?x(e):console.error("User email not found in userData:",n)}else e("/login")}));const v={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,t.useEffect)((()=>{localStorage.getItem("chat-app-current-user")&&e("/")}),[]);const y=u((e=>w(e)),300),w=async e=>{if(e.length>3)try{const{data:n}=await o.A.post(l.M5,{username:e});g(n.status),s(n.msg),a(e)}catch(n){console.error("Axios error:",n)}},S=async a=>{if(a.preventDefault(),!(n.length<3)||(i.oR.error("username should be greater than 3 characters.",v),0))try{const{data:a}=await o.A.post(l.R6,{username:n,email:b,password:(Math.random()+1).toString(20).substring(1)});console.log("Response Status:",a.status),!1===a.status&&i.oR.error(a.msg,v),!0===a.status&&(localStorage.setItem("chat-app-current-user",JSON.stringify(a.user)),e("/"))}catch(r){console.error("Axios error in handleSubmit:",r.response.data)}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{children:(0,h.jsxs)("form",{action:"",onSubmit:e=>S(e),children:[(0,h.jsx)("span",{children:"Check Username Availablity"}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("input",{className:"".concat(d?"success":void 0!==d?"danger":""),type:"text",placeholder:"Username",name:"username",onChange:e=>y(e.target.value),min:"3"}),(0,h.jsx)("label",{htmlFor:"",className:"".concat(d?"success":void 0!==d?"danger":""),children:r})]}),(0,h.jsx)("button",{type:"submit",className:"btn",children:"Create User"})]})}),(0,h.jsx)(i.N9,{})]})}const f=s.Ay.div(d||(d=(0,r.A)(["\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 1rem;\n  align-items: center;\n  background-color: #131324;\n  .row {\n    label {\n      display: block;\n      margin: 10px 0 0 5px;\n      transition: 0.3s ease-in-out;\n      height: 0.5rem;\n    }\n    label.success {\n      color: #39ff14;\n    }\n    label.danger {\n      color: #ff3131;\n    }\n  }\n  form {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    background-color: #00000076;\n    border-radius: 2rem;\n    padding: 5rem;\n  }\n\n  input {\n    background-color: transparent;\n    padding: 1rem;\n    border: 0.1rem solid #4e0eff;\n    border-radius: 0.4rem;\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    transition: 0.3s ease-in-out;\n    &:focus {\n      border: 0.1rem solid #997af0;\n      outline: none;\n    }\n  }\n  .success {\n    border-color: #39ff14;\n    &:focus {\n      border-color: #39ff14;\n    }\n  }\n  .danger {\n    border-color: #ff3131;\n    &:focus {\n      border-color: #ff3131;\n    }\n  }\n  .btn {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n\n  span {\n    color: white;\n    text-transform: uppercase;\n  }\n"])))},804:(e,n,a)=>{a.d(n,{$G:()=>c,C3:()=>i,Hc:()=>r,M5:()=>u,R6:()=>o,Uq:()=>d,VV:()=>t,ZL:()=>l,tO:()=>s});const r="http://localhost:5000",t="".concat(r,"/api/auth/login"),o="".concat(r,"/api/auth/register"),s=("".concat(r,"/api/auth/logout"),"".concat(r,"/api/auth/allusers")),c="".concat(r,"/api/messages/addmsg"),i="".concat(r,"/api/messages/getmsg"),l="".concat(r,"/api/auth/setavatar"),u="".concat(r,"/api/auth/checkusername"),d="".concat(r,"/api/auth/firebaselogin");"".concat(r,"/api/auth/setusername")},855:(e,n,a)=>{a.d(n,{e:()=>o});var r=a(21);const t=(0,a(64).Wp)({apiKey:"AIzaSyCPqcIIgRUX1yR-sLX--SQUyVwSgSgoRw0",authDomain:"chat-app-2f1a9.firebaseapp.com",projectId:"chat-app-2f1a9",storageBucket:"chat-app-2f1a9.appspot.com",messagingSenderId:"412118110816",appId:"1:412118110816:web:1481973521be192105a905",measurementId:"G-896SJRP6EX"}),o=(0,r.xI)(t)}}]);
//# sourceMappingURL=335.113a02a2.chunk.js.map